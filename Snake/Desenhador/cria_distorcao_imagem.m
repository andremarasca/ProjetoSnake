clear all;
close all;
clc;

I = imread('baixo.png');

[M, N, L] = size(I);
S = 255 * ones(M, N, L);

% B = I(1, :, :);

% x = ((1 : M) - 1) / (M - 1);
% y = sqrt(x*0.01);
% y = 0.1 + 0.9 *(y - min(y)) / (max(y) - min(y));
% y = [1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1.01904761904762 1.01904761904762 1.01904761904762 1.01904761904762 1.01904761904762 1.01904761904762 1.01904761904762 1.01904761904762 1.01904761904762 1.03809523809524 1.03809523809524 1.03809523809524 1.03809523809524 1.03809523809524 1.03809523809524 1.05714285714286 1.05714285714286 1.05714285714286 1.05714285714286 1.05714285714286 1.05714285714286 1.07619047619048 1.07619047619048 1.07619047619048 1.07619047619048 1.08571428571429 1.08571428571429 1.08571428571429 1.08571428571429 1.08571428571429 1.08571428571429 1.08571428571429 1.10476190476190 1.10476190476190 1.10476190476190 1.10476190476190 1.10476190476190 1.10476190476190 1.12380952380952 1.12380952380952 1.12380952380952 1.12380952380952 1.14285714285714 1.14285714285714 1.14285714285714 1.14285714285714 1.14285714285714 1.14285714285714 1.16190476190476 1.16190476190476 1.16190476190476 1.16190476190476 1.16190476190476 1.16190476190476 1.18095238095238 1.18095238095238 1.18095238095238 1.18095238095238 1.18095238095238 1.18095238095238 1.18095238095238 1.20000000000000 1.20000000000000 1.20000000000000 1.20000000000000 1.20000000000000 1.20000000000000 1.20000000000000 1.20000000000000 1.20000000000000 1.20000000000000 1.20000000000000 1.20000000000000 1.20000000000000 1.20000000000000 1.20000000000000 1.20000000000000 1.20000000000000 1.20000000000000 1.20000000000000 1.20000000000000 1.20000000000000 1.20000000000000 1.20000000000000 1.20000000000000 1.20000000000000 1.20000000000000 1.20000000000000 1.20000000000000 1.20000000000000 1.20000000000000 1.20000000000000 1.20000000000000 1.20000000000000 1.20000000000000 1.20000000000000 1.20000000000000 1.20000000000000 1.20000000000000 1.20000000000000 1.20000000000000 1.20000000000000 1.20000000000000 1.20000000000000 1.18095238095238 1.18095238095238 1.18095238095238 1.18095238095238 1.18095238095238 1.18095238095238 1.18095238095238 1.18095238095238 1.18095238095238 1.18095238095238 1.18095238095238 1.18095238095238 1.16190476190476 1.16190476190476 1.16190476190476 1.16190476190476 1.16190476190476 1.16190476190476 1.16190476190476 1.16190476190476 1.16190476190476 1.16190476190476 1.16190476190476 1.14285714285714 1.14285714285714 1.14285714285714 1.14285714285714 1.14285714285714 1.14285714285714 1.14285714285714 1.14285714285714 1.14285714285714 1.14285714285714 1.14285714285714 1.14285714285714 1.12380952380952 1.12380952380952 1.12380952380952 1.12380952380952 1.12380952380952 1.12380952380952 1.10476190476190 1.10476190476190 1.10476190476190 1.10476190476190 1.10476190476190 1.10476190476190 1.10476190476190 1.08571428571429 1.08571428571429 1.08571428571429 1.08571428571429 1.08571428571429 1.08571428571429 1.08571428571429 1.08571428571429 1.08571428571429 1.08571428571429 1.07619047619048 1.07619047619048 1.07619047619048 1.07619047619048 1.07619047619048 1.07619047619048 1.07619047619048 1.07619047619048 1.07619047619048 1.07619047619048 1.07619047619048 1.07619047619048 1.07619047619048 1.07619047619048 1.07619047619048 1.07619047619048 1.07619047619048 1.07619047619048 1.07619047619048 1.07619047619048 1.07619047619048 1.05714285714286 1.05714285714286 1.05714285714286 1.05714285714286 1.03809523809524 1.03809523809524 1.03809523809524 1.03809523809524 1.03809523809524 1.03809523809524 1.01904761904762 1.01904761904762 1.01904761904762 1.01904761904762 1.01904761904762 1.01904761904762 1 1 1 1 0.980952380952381 0.980952380952381 0.980952380952381 0.980952380952381 0.980952380952381 0.961904761904762 0.961904761904762 0.961904761904762 0.961904761904762 0.961904761904762 0.961904761904762 0.942857142857143 0.942857142857143 0.942857142857143 0.942857142857143 0.942857142857143 0.942857142857143 0.942857142857143 0.942857142857143 0.923809523809524 0.923809523809524 0.923809523809524 0.923809523809524 0.923809523809524 0.923809523809524 0.904761904761905 0.904761904761905 0.904761904761905 0.904761904761905 0.885714285714286 0.885714285714286 0.885714285714286 0.866666666666667 0.866666666666667 0.866666666666667 0.866666666666667 0.866666666666667 0.866666666666667 0.847619047619048 0.847619047619048 0.847619047619048 0.847619047619048 0.847619047619048 0.847619047619048 0.828571428571429 0.828571428571429 0.828571428571429 0.828571428571429 0.819047619047619 0.819047619047619 0.819047619047619 0.819047619047619 0.819047619047619 0.819047619047619 0.800000000000000 0.800000000000000 0.800000000000000 0.800000000000000 0.800000000000000 0.780952380952381 0.780952380952381 0.780952380952381 0.780952380952381 0.761904761904762 0.761904761904762 0.761904761904762 0.761904761904762 0.742857142857143 0.742857142857143 0.742857142857143 0.742857142857143 0.723809523809524 0.723809523809524 0.723809523809524 0.723809523809524 0.704761904761905 0.704761904761905 0.704761904761905 0.704761904761905 0.685714285714286 0.685714285714286 0.685714285714286 0.685714285714286 0.666666666666667 0.666666666666667 0.647619047619048 0.647619047619048 0.647619047619048 0.628571428571429 0.628571428571429 0.628571428571429 0.628571428571429 0.628571428571429 0.628571428571429 0.609523809523810 0.609523809523810 0.590476190476190 0.590476190476190 0.590476190476190 0.590476190476190 0.571428571428571 0.571428571428571 0.571428571428571 0.571428571428571 0.561904761904762 0.561904761904762 0.542857142857143 0.542857142857143 0.542857142857143 0.542857142857143 0.523809523809524 0.523809523809524 0.523809523809524 0.523809523809524 0.504761904761905 0.485714285714286 0.485714285714286 0.485714285714286 0.485714285714286 0.466666666666667 0.466666666666667 0.447619047619048 0.447619047619048 0.409523809523810 0.409523809523810 0.352380952380952 0.352380952380952 0.285714285714286 0.285714285714286];
% plot(x, y);
y = [1 1 1 1 1.00372208436725 1.00372208436725 1.00372208436725 1.00372208436725 1.00744416873449 1.00744416873449 1.00744416873449 1.00744416873449 1.01116625310174 1.01116625310174 1.01116625310174 1.01116625310174 1.01116625310174 1.01488833746898 1.01488833746898 1.01488833746898 1.01488833746898 1.01861042183623 1.01861042183623 1.01861042183623 1.01861042183623 1.02233250620347 1.02233250620347 1.02233250620347 1.02605459057072 1.02605459057072 1.02977667493797 1.02977667493797 1.03349875930521 1.03722084367246 1.04094292803970 1.04466501240695 1.05210918114144 1.05955334987593 1.06327543424318 1.07071960297767 1.07444168734491 1.07444168734491 1.07816377171216 1.08560794044665 1.08933002481390 1.09305210918114 1.09305210918114 1.09677419354839 1.10049627791563 1.10421836228288 1.10421836228288 1.10421836228288 1.10794044665012 1.10794044665012 1.10794044665012 1.11166253101737 1.11166253101737 1.11166253101737 1.11166253101737 1.11166253101737 1.11166253101737 1.11166253101737 1.11538461538462 1.11538461538462 1.11538461538462 1.11538461538462 1.11910669975186 1.11910669975186 1.11910669975186 1.11910669975186 1.11910669975186 1.11538461538462 1.11538461538462 1.11538461538462 1.11538461538462 1.11538461538462 1.11538461538462 1.11910669975186 1.11910669975186 1.11910669975186 1.11910669975186 1.11910669975186 1.11538461538462 1.11538461538462 1.11166253101737 1.10794044665012 1.10794044665012 1.10794044665012 1.10794044665012 1.10794044665012 1.10421836228288 1.10421836228288 1.10421836228288 1.10421836228288 1.10421836228288 1.10421836228288 1.10049627791563 1.10049627791563 1.10049627791563 1.10049627791563 1.10049627791563 1.10049627791563 1.10049627791563 1.09677419354839 1.09677419354839 1.09677419354839 1.09677419354839 1.09677419354839 1.09677419354839 1.09677419354839 1.09305210918114 1.09305210918114 1.09305210918114 1.09305210918114 1.09305210918114 1.09305210918114 1.09305210918114 1.08933002481390 1.08933002481390 1.08933002481390 1.08933002481390 1.08933002481390 1.08933002481390 1.08933002481390 1.08933002481390 1.08933002481390 1.08933002481390 1.08560794044665 1.08560794044665 1.08560794044665 1.08560794044665 1.08560794044665 1.08560794044665 1.08560794044665 1.08560794044665 1.08560794044665 1.08560794044665 1.08560794044665 1.08560794044665 1.08560794044665 1.08560794044665 1.08560794044665 1.08560794044665 1.08560794044665 1.08560794044665 1.08560794044665 1.08560794044665 1.08560794044665 1.08560794044665 1.08560794044665 1.08560794044665 1.08560794044665 1.08560794044665 1.08560794044665 1.08933002481390 1.08933002481390 1.08933002481390 1.08933002481390 1.08933002481390 1.08933002481390 1.08933002481390 1.08933002481390 1.08933002481390 1.09305210918114 1.09305210918114 1.09305210918114 1.09305210918114 1.09305210918114 1.09305210918114 1.09677419354839 1.09677419354839 1.09677419354839 1.09677419354839 1.09677419354839 1.09677419354839 1.10049627791563 1.10049627791563 1.10049627791563 1.10049627791563 1.10049627791563 1.10421836228288 1.10421836228288 1.10421836228288 1.10421836228288 1.10421836228288 1.10794044665012 1.10794044665012 1.10794044665012 1.10794044665012 1.10794044665012 1.11166253101737 1.11166253101737 1.11166253101737 1.11166253101737 1.11538461538462 1.11538461538462 1.11538461538462 1.11538461538462 1.11538461538462 1.11910669975186 1.11910669975186 1.11910669975186 1.11910669975186 1.12282878411911 1.12282878411911 1.12282878411911 1.12282878411911 1.12655086848635 1.12655086848635 1.12655086848635 1.12655086848635 1.13027295285360 1.13027295285360 1.13027295285360 1.13027295285360 1.13027295285360 1.13399503722084 1.13399503722084 1.13399503722084 1.13399503722084 1.13771712158809 1.13771712158809 1.13771712158809 1.13771712158809 1.14143920595534 1.14143920595534 1.14143920595534 1.14143920595534 1.14516129032258 1.14516129032258 1.14516129032258 1.14516129032258 1.14888337468983 1.14888337468983 1.14888337468983 1.14888337468983 1.15260545905707 1.15260545905707 1.15260545905707 1.15260545905707 1.15632754342432 1.15632754342432 1.15632754342432 1.15632754342432 1.16004962779156 1.16004962779156 1.16004962779156 1.16004962779156 1.16377171215881 1.16377171215881 1.16377171215881 1.16749379652605 1.16749379652605 1.16749379652605 1.17121588089330 1.17121588089330 1.17121588089330 1.17121588089330 1.17121588089330 1.17121588089330 1.17121588089330 1.17121588089330 1.17121588089330 1.17121588089330 1.17121588089330 1.17121588089330 1.17121588089330 1.17121588089330 1.17121588089330 1.16749379652605 1.16749379652605 1.16377171215881 1.16377171215881 1.16377171215881 1.16004962779156 1.16004962779156 1.15632754342432 1.15260545905707 1.14888337468983 1.14888337468983 1.14516129032258 1.14143920595534 1.13771712158809 1.13399503722084 1.13399503722084 1.13027295285360 1.12655086848635 1.12282878411911 1.12282878411911 1.11910669975186 1.11538461538462 1.11538461538462 1.11166253101737 1.10794044665012 1.10794044665012 1.10421836228288 1.10421836228288 1.10049627791563 1.09677419354839 1.09677419354839 1.09305210918114 1.09305210918114 1.09305210918114 1.08933002481390 1.08933002481390 1.08560794044665 1.08560794044665 1.08560794044665 1.08188585607940 1.08188585607940 1.08188585607940 1.07816377171216 1.07816377171216 1.07816377171216 1.07444168734491 1.07444168734491 1.07444168734491 1.07444168734491 1.07071960297767 1.07071960297767 1.07071960297767 1.07071960297767 1.07071960297767 1.06699751861042 1.06699751861042 1.06699751861042 1.06699751861042 1.06699751861042 1.06327543424318 1.06327543424318 1.06327543424318 1.06327543424318 1.06327543424318 1.06327543424318 1.06327543424318 1.05955334987593 1.05955334987593 1.05955334987593 1.05955334987593 1.05955334987593 1.05955334987593 1.05583126550868 1.05583126550868 1.05583126550868 1.05583126550868 1.05583126550868 1.05583126550868 1.05583126550868 1.05583126550868 1.05210918114144 1.05210918114144 1.05210918114144 1.05210918114144 1.05210918114144 1.05210918114144 1.05210918114144 1.05210918114144 1.04838709677419 1.04838709677419 1.04838709677419 1.04838709677419 1.04838709677419 1.04838709677419 1.04838709677419 1.04838709677419 1.04466501240695 1.04466501240695 1.04466501240695 1.04466501240695 1.04466501240695 1.04466501240695 1.04466501240695 1.04466501240695 1.04094292803970 1.04094292803970 1.04094292803970 1.04094292803970 1.04094292803970 1.04094292803970 1.04094292803970 1.04094292803970 1.04094292803970 1.03722084367246 1.03722084367246 1.03722084367246 1.03722084367246 1.03722084367246 1.03722084367246 1.03722084367246 1.03722084367246 1.03722084367246 1.03349875930521 1.03349875930521 1.03349875930521 1.03349875930521 1.03349875930521 1.03349875930521 1.03349875930521 1.03349875930521 1.02977667493797];

for i = 1 : M
    B = repmat(I(i,:, :), M, 1, 1);
    B = imresize(B,y(i));
    [Mb, Nb, Lb] = size(B);
    if M > Mb
        diff = M - Mb;
        inicio = round(diff/2) + 1;
        fim = inicio + Mb - 1;
        length(inicio:fim)
        S(i, inicio:fim, :) = B(1, :, :);
    else
        diff = Mb - M;
        inicio = round(diff/2) + 1;
        fim = inicio + M - 1;
        length(inicio:fim)
        S(i, :, :) = B(1, inicio:fim, :);
    end
end

imwrite(uint8(S), 'saida2.png', 'Transparency', [1 1 1]);